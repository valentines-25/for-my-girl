<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For You ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Caveat:wght@400;700&family=Playfair+Display:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-brown: #5D4037;
            --paper-cream: #f4f1ea;
            --ink-black: #2c241b;
            --vintage-red: #c75b39;
            --faded-teal: #5a7c7c;
            --shadow: rgba(0,0,0,0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }

        html {
            scroll-behavior: smooth;
            -webkit-text-size-adjust: 100%;
        }

        body {
            font-family: 'Special Elite', cursive;
            background-color: var(--paper-cream);
            color: var(--ink-black);
            overflow-x: hidden;
            position: relative;
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
            touch-action: pan-y pinch-zoom;
        }

        /* Mobile-optimized grain */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 9999;
            opacity: 0.3; /* Reduced for mobile performance */
        }

        /* Light Leak - disabled on mobile for performance */
        .light-leak {
            position: fixed;
            top: -50%;
            right: -20%;
            width: 80%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,200,100,0.1) 0%, transparent 70%);
            pointer-events: none;
            z-index: 1;
            mix-blend-mode: overlay;
            animation: leakMove 20s ease-in-out infinite;
        }

        @keyframes leakMove {
            0%, 100% { transform: rotate(0deg) translateX(0); }
            50% { transform: rotate(5deg) translateX(-20px); }
        }

        /* Vignette - lighter on mobile */
        body::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, transparent 60%, rgba(60,40,30,0.3) 100%);
            pointer-events: none;
            z-index: 9998;
        }

        /* Lock Screen */
        #lock-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(135deg, #2c1810 0%, #3e2723 50%, #2c1810 100%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: transform 1.5s cubic-bezier(0.7, 0, 0.3, 1), opacity 1s;
            padding: 20px;
        }

        .envelope-container {
            position: relative;
            width: 280px;
            height: 180px;
            background: #d4c5b5;
            border-radius: 5px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            transform-style: preserve-3d;
            transition: transform 0.3s;
            cursor: pointer;
        }

        .envelope-container:active {
            transform: scale(0.98);
        }

        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background: #c9b8a5;
            clip-path: polygon(0 0, 50% 100%, 100% 0);
            transform-origin: top;
            transition: transform 0.6s;
            z-index: 2;
        }

        .envelope-container.open .envelope-flap {
            transform: rotateX(180deg);
            z-index: 0;
        }

        .wax-seal {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            background: radial-gradient(circle at 30% 30%, #c75b39, #8b3a1f);
            border-radius: 50%;
            box-shadow: 
                0 4px 8px rgba(0,0,0,0.3),
                inset 0 -2px 4px rgba(0,0,0,0.2),
                inset 0 2px 4px rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            z-index: 3;
            transition: all 0.3s;
            border: 3px solid rgba(0,0,0,0.1);
        }

        .wax-seal::before {
            content: "‚ù§Ô∏è";
            filter: grayscale(0.3);
        }

        .wax-seal:active {
            transform: translate(-50%, -50%) scale(0.95);
        }

        .wax-seal.broken {
            animation: sealBreak 0.6s forwards;
        }

        @keyframes sealBreak {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.3) rotate(10deg); }
            100% { transform: translate(-50%, -50%) scale(0) rotate(45deg); opacity: 0; }
        }

        .envelope-btn {
            margin-top: 30px;
            background: transparent;
            color: #d4c5b5;
            border: 2px solid #d4c5b5;
            padding: 15px 40px;
            font-family: 'Special Elite', cursive;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 3px;
            position: relative;
            overflow: hidden;
            min-height: 44px; /* Touch target size */
        }

        .envelope-btn:active {
            background: rgba(212,197,181,0.3);
            transform: scale(0.98);
        }

        /* Container */
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: var(--paper-cream);
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 60px rgba(0,0,0,0.2);
            overflow-x: hidden;
            width: 100%;
        }

        .content {
            display: none;
            opacity: 0;
            animation: fadeIn 2s forwards;
            padding-bottom: 120px; /* Space for music player */
            width: 100%;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 60px 20px 30px;
            position: relative;
            overflow: hidden;
        }

        .hero h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: var(--primary-brown);
            position: relative;
            display: inline-block;
            line-height: 1.2;
        }

        .hero h2::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--vintage-red), transparent);
        }

        .date-stamp {
            display: inline-block;
            margin-top: 20px;
            padding: 8px 20px;
            border: 2px solid var(--vintage-red);
            color: var(--vintage-red);
            font-size: 0.85rem;
            transform: rotate(-2deg);
            opacity: 0.8;
            font-family: 'Special Elite', cursive;
        }

        /* Letter Section */
        .letter-section {
            padding: 40px 25px;
            position: relative;
            line-height: 1.8;
            font-size: 1rem;
        }

        .typewriter-line {
            opacity: 0;
            transform: translateY(10px);
            animation: typeIn 0.8s forwards;
            margin-bottom: 1.2rem;
            word-wrap: break-word;
            overflow-wrap: break-word;
            hyphens: auto;
        }

        @keyframes typeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .handwritten {
            font-family: 'Caveat', cursive;
            font-size: 1.3rem;
            color: var(--vintage-red);
            transform: rotate(-1deg);
            display: inline-block;
            margin: 5px 0;
        }

        .signature {
            text-align: right;
            font-family: 'Caveat', cursive;
            font-size: 1.6rem;
            color: var(--primary-brown);
            margin-top: 30px;
            transform: rotate(-2deg);
        }

        /* Coffee Stain - hide on small screens */
        .coffee-stain {
            position: absolute;
            width: 100px;
            height: 100px;
            border: 3px solid rgba(139, 90, 43, 0.1);
            border-radius: 50%;
            pointer-events: none;
            filter: blur(1px);
        }

        .coffee-stain.one {
            top: 5%;
            right: -10px;
            transform: scale(0.6);
        }

        .coffee-stain.two {
            bottom: 20%;
            left: -20px;
            transform: scale(0.9) rotate(30deg);
        }

        /* Timeline - Mobile optimized */
        .timeline {
            position: relative;
            padding: 40px 15px;
            width: 100%;
        }

        .timeline-thread {
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: 
                repeating-linear-gradient(
                    to bottom,
                    var(--primary-brown),
                    var(--primary-brown) 8px,
                    transparent 8px,
                    transparent 12px
                );
            opacity: 0.4;
        }

        .memory-card {
            background: white;
            padding: 12px 12px 30px 12px;
            margin-bottom: 40px;
            position: relative;
            width: calc(100% - 60px);
            margin-left: 60px;
            box-shadow: 
                0 4px 6px rgba(0,0,0,0.1),
                0 1px 3px rgba(0,0,0,0.08);
            transform: rotate(-1deg) translateY(30px);
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            border-radius: 2px;
        }

        .memory-card.visible {
            opacity: 1;
            transform: rotate(-1deg) translateY(0);
        }

        .memory-card:nth-child(even) {
            margin-left: 60px;
            margin-right: 0;
            transform: rotate(1deg) translateY(30px);
        }

        .memory-card:nth-child(even).visible {
            transform: rotate(1deg) translateY(0);
        }

        /* Washi Tape */
        .memory-card::before {
            content: "";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%) rotate(-1deg);
            width: 40px;
            height: 16px;
            background: 
                repeating-linear-gradient(
                    90deg,
                    rgba(255,255,255,0.6),
                    rgba(255,255,255,0.6) 5px,
                    rgba(0,0,0,0.05) 5px,
                    rgba(0,0,0,0.05) 10px
                );
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .memory-card:nth-child(2)::before { background: rgba(199,91,57,0.3); }
        .memory-card:nth-child(3)::before { background: rgba(90,124,124,0.3); }
        .memory-card:nth-child(4)::before { background: rgba(212,197,181,0.6); }

        /* Pin - positioned for mobile layout */
        .memory-card::after {
            content: "üìç";
            position: absolute;
            top: -5px;
            right: 15px;
            font-size: 1.2rem;
            transform: rotate(15deg);
            filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.2));
            z-index: 10;
        }

        .memory-card:nth-child(even)::after {
            left: auto;
            right: 15px;
            transform: rotate(-15deg);
        }

        .photo-frame {
            position: relative;
            overflow: hidden;
            background: #f0f0f0;
            margin-bottom: 12px;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.1);
        }

        .memory-img {
            width: 100%;
            height: auto;
            display: block;
            filter: sepia(30%) contrast(1.05) brightness(0.95);
            transition: filter 0.5s ease;
            transform: scale(1.02);
        }

        .memory-card.visible .memory-img {
            filter: sepia(0%) contrast(1) brightness(1);
        }

        .memory-date {
            font-family: 'Special Elite', cursive;
            font-size: 0.75rem;
            color: var(--vintage-red);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 6px;
            display: block;
            border-bottom: 1px dashed #ccc;
            padding-bottom: 4px;
        }

        .memory-caption {
            font-family: 'Caveat', cursive;
            font-size: 1.2rem;
            color: var(--ink-black);
            line-height: 1.3;
            opacity: 0.9;
        }

        /* Ask Section */
        .ask-section {
            text-align: center;
            padding: 60px 20px;
            background: 
                radial-gradient(ellipse at center, rgba(199,91,57,0.1) 0%, transparent 70%),
                var(--paper-cream);
            position: relative;
            border-top: 3px double var(--primary-brown);
        }

        .ask-section h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 30px;
            line-height: 1.4;
            color: var(--primary-brown);
            padding: 0 10px;
        }

        .btn-yes {
            background: var(--vintage-red);
            color: white;
            font-family: 'Special Elite', cursive;
            font-size: 1.2rem;
            padding: 18px 40px;
            border: none;
            cursor: pointer;
            box-shadow: 
                0 4px 0 #8b3a1f,
                0 6px 12px rgba(0,0,0,0.2);
            transition: all 0.2s;
            position: relative;
            letter-spacing: 2px;
            min-height: 44px;
            touch-action: manipulation;
        }

        .btn-yes:active {
            transform: translateY(4px);
            box-shadow: 
                0 0 0 #8b3a1f,
                0 2px 4px rgba(0,0,0,0.2);
        }

        /* Vinyl Music Player - Mobile optimized */
        #music-player {
            position: fixed;
            bottom: 15px;
            right: 15px;
            background: rgba(46, 32, 22, 0.95);
            padding: 10px;
            border-radius: 50%;
            width: 65px;
            height: 65px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            z-index: 998;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 2px solid #d4c5b5;
            touch-action: manipulation;
        }

        #music-player.expanded {
            width: 260px;
            border-radius: 15px;
            padding: 15px;
            height: auto;
            bottom: 15px;
            right: 15px;
        }

        .vinyl {
            width: 45px;
            height: 45px;
            background: 
                radial-gradient(circle at 30% 30%, #333 0%, #000 40%, #111 100%),
                repeating-radial-gradient(circle at center, #222 0px, #222 2px, #000 2px, #000 4px);
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            animation: spin 3s linear infinite paused;
            box-shadow: 0 2px 8px rgba(0,0,0,0.5);
            flex-shrink: 0;
        }

        .vinyl.playing {
            animation-play-state: running;
        }

        .vinyl::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 15px;
            height: 15px;
            background: var(--vintage-red);
            border-radius: 50%;
            border: 2px solid #d4c5b5;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .music-controls {
            display: none;
            margin-left: 12px;
            color: white;
            flex: 1;
            min-width: 0;
        }

        #music-player.expanded .music-controls {
            display: block;
        }

        #music-player.expanded .vinyl {
            width: 40px;
            height: 40px;
        }

        .control-btn {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.5);
            color: white;
            padding: 6px 12px;
            cursor: pointer;
            font-family: 'Special Elite', cursive;
            font-size: 0.75rem;
            margin: 0 3px;
            transition: all 0.2s;
            border-radius: 3px;
            min-height: 32px;
            touch-action: manipulation;
        }

        .control-btn:active {
            background: rgba(255,255,255,0.2);
            transform: scale(0.95);
        }

        .song-title {
            font-size: 0.75rem;
            margin-bottom: 8px;
            opacity: 0.9;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-family: 'Special Elite', cursive;
        }

        /* Modal */
        #confetti-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(244, 241, 234, 0.98);
            z-index: 2000;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s;
            padding: 20px;
            overflow-y: auto;
        }

        #confetti-modal.show {
            opacity: 1;
        }

        #confetti-modal h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            color: var(--vintage-red);
            margin-bottom: 20px;
            animation: heartbeat 1.5s ease-in-out infinite;
            line-height: 1.2;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Better mobile typography */
        @media (max-width: 380px) {
            .envelope-container {
                width: 240px;
                height: 150px;
            }
            
            .wax-seal {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            .hero h2 {
                font-size: 1.7rem;
            }
            
            .memory-card {
                width: calc(100% - 50px);
                margin-left: 50px;
            }
            
            .memory-card:nth-child(even) {
                margin-left: 50px;
            }
            
            .timeline-thread {
                left: 25px;
            }
        }

        /* Tablet optimizations */
        @media (min-width: 601px) {
            .timeline-thread {
                left: 50%;
                transform: translateX(-50%);
            }
            
            .memory-card {
                width: 42%;
                margin-left: 55%;
            }
            
            .memory-card:nth-child(even) {
                margin-left: 3%;
                margin-right: 55%;
            }
            
            .memory-card::after {
                right: auto;
                left: -35px;
            }
            
            .memory-card:nth-child(even)::after {
                left: auto;
                right: -35px;
            }
        }

        /* Reduced motion for accessibility */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .vinyl {
                animation: none !important;
            }
        }

        /* Prevent text selection on UI elements */
        .envelope-btn, .btn-yes, .control-btn, .vinyl {
            user-select: none;
            -webkit-user-select: none;
        }
    </style>
</head>
<body>

    <div class="light-leak"></div>
    <audio id="bg-music" loop preload="auto">
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <!-- Lock Screen -->
    <div id="lock-screen">
        <div class="envelope-container" id="envelope">
            <div class="envelope-flap"></div>
            <div class="wax-seal" id="waxSeal"></div>
        </div>
        <button class="envelope-btn" id="openBtn" style="margin-top: 40px;">Break the Seal</button>
        <p style="margin-top: 20px; color: #8b7355; font-size: 0.9rem; font-style: italic;">A letter from me to you...</p>
    </div>

    <div class="container">
        <div class="content" id="main-content">
            
            <section class="hero">
                <h2>Our Story</h2>
                <div class="date-stamp">FEB 14, 2026</div>
            </section>

            <section class="letter-section">
                <div class="coffee-stain one"></div>
                <div class="coffee-stain two"></div>
                
                <div id="letterContent"></div>
                
                <p class="signature">- Yours</p>
            </section>

            <section class="timeline">
                <div class="timeline-thread"></div>
                
                <div class="memory-card" data-delay="0">
                    <span class="memory-date">First Photo Together</span>
                    <div class="photo-frame">
                        <img src="first_meet.jpg" alt="First Meet" class="memory-img">
                    </div>
                    <p class="memory-caption">I was so nervous and excited that day on diwali celebration and I really really wanted to take a picture together, kadaisi ha i ended up mustering up the courage to ask you for a selfie</p>
                </div>

                <div class="memory-card" data-delay="200">
                    <span class="memory-date">Pongal Celebration</span>
                    <div class="photo-frame">
                        <img src="pongal.jpg" alt="Pongal" class="memory-img">
                    </div>
                    <p class="memory-caption">>You looked so so sooo good in that saree aniki with the choker, earrings etc everything sahjdbkjawbd üò©, dont mind the hand on the shoulder adhu edho unarchi vasam patuu paniten ü§£ </p>
                </div>

                <div class="memory-card" data-delay="400">
                    <span class="memory-date">February Date</span>
                    <div class="photo-frame">
                        <img src="feb_date.jpg" alt="February" class="memory-img">
                    </div>
                    <p class="memory-caption">I remember how you came to meet me after going for that dance programme, that day was so chill yk just cafe poitu then a slow walk on the side of the road and some ice cream, I reallyyyy loved it</p>
                </div>

                <div class="memory-card" data-delay="600">
                    <span class="memory-date">Birthday Lunch</span>
                    <div class="photo-frame">
                        <img src="august_lunch.jpg" alt="Lunch" class="memory-img">
                    </div>
                    <p class="memory-caption">we only met like for 2 hours but it was worth it, had a good lunch aniki briyani superrr but lesson learned. inimel oru briyani dha vanganum ü§£ and ofc how can i miss the nose ring pure vadakki maari irundhe but that silver doesntt suit you nu solre so next time gold vaangi tharen maybe youll love it ü§£</span></p>
                </div>

                <div class="memory-card" data-delay="800">
                    <span class="memory-date">Pre-Birthday Gift</span>
                    <div class="photo-frame">
                        <img src="sep_22.jpg" alt="Gift" class="memory-img">
                    </div>
                    <p class="memory-caption">Thanks for the birthday gift ,i actually read the note anikeee and couldnt wait. i was crying while going back home bike la, purely aanandha kaneer note padicha odaney, thanks nijama loved it ‚ù§Ô∏è <span class="handwritten">happy tears only ‚ù§Ô∏è</span></p>
                </div>

                <div class="memory-card" data-delay="1000">
                    <span class="memory-date">November Vibes</span>
                    <div class="photo-frame">
                        <img src="nov_date.jpg" alt="November" class="memory-img">
                    </div>
                    <p class="memory-caption">You were so on vibe aniki i really loved the whole day, nalla jollya irunchuuu. we went on an actual date after a longgg time like actual date date</p>
                </div>

                <div class="memory-card" data-delay="1200">
                    <span class="memory-date">Ibacooo</span>
                    <div class="photo-frame">
                        <img src="ibacoo.jpg" alt="Ibacoo" class="memory-img">
                    </div>
                    <p class="memory-caption">it wass almost perfect chayyy my loosu memory naala i missed my bag aniki or else naan unna drop pani irupen lol that bubble gum falvor ice cream thooo really good bruh</span></p>
                </div>

                <div class="memory-card" data-delay="1400">
                    <span class="memory-date">Chaapssss</span>
                    <div class="photo-frame">
                        <img src="latest_date.jpg" alt="Chaaps" class="memory-img">
                    </div>
                    <p class="memory-caption">Malai chaaps vere level aniki supera irunchu we should do it more and finally konjo neram kadachidu nee mooj mudna odaney takkunu kai potu pic eduthuten ü§£</p>
                </div>

                <div class="memory-card" data-delay="1600">
                    <span class="memory-date">My Favorite</span>
                    <div class="photo-frame">
                        <img src="cute.jpg" alt="Cute" class="memory-img">
                    </div>
                    <p class="memory-caption">andd finallyyy a really cute pic of yours probably my favourite ü•∞(you were really tryna guide me to take a good pic of yours which i failed successfulyy ü§£)</p>
                </div>
            </section>

            <section class="ask-section">
                <h3>Labels don't define us.<br>We define us.</h3>
                <button class="btn-yes" id="yesBtn">I Love Us ‚ù§Ô∏è</button>
            </section>
        </div>
    </div>

    <!-- Vinyl Player -->
    <div id="music-player">
        <div class="vinyl" id="vinyl"></div>
        <div class="music-controls">
            <div class="song-title">üéµ Peak Song</div>
            <button class="control-btn" id="playBtn">Play</button>
            <button class="control-btn" id="pauseBtn">Pause</button>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="confetti-modal">
        <h2>Happy Valentine's Day</h2>
        <p style="font-size: 1.2rem; font-family: 'Caveat', cursive; margin: 20px; line-height: 1.4;">I'm so lucky to have you in my life, exactly as we are.</p>
        <p style="margin-top: 30px; padding: 15px; border: 2px dashed var(--vintage-red); display: inline-block; transform: rotate(-2deg); font-size: 0.9rem;">
            (GO TRY THAT PERFUME NOW!)
        </p>
    </div>

    <script>
        // Letter content - EXACTLY AS PROVIDED
        const letterContent = `Dear Harini Raooo,

Unaku gifts vaangi thandhachuu (the perfume, the jewelry...), but adhellam naan enna solanumo express pannadhuuuu

I know we haven't put a label on "us" yet. And I realized recently that we don't really need to. The way we laugh, the way we fight, the way we just exist together... we already act exactly how a real couple should.

So namma enna nu define panrathuku badhila, I just wanted to document this. To remind you that even without the title, you are my person.

Here are some of my favorite moments with yo, btw press play on the song (bottom right la irukum paaru disc maari) before seeing the pics! ü§£`;

        // Typewriter Effect
        const letterContainer = document.getElementById('letterContent');
        const lines = letterContent.split('\n\n');
        
        function renderLetter() {
            letterContainer.innerHTML = '';
            lines.forEach((line, index) => {
                const div = document.createElement('div');
                div.className = 'typewriter-line';
                div.style.animationDelay = `${index * 0.4}s`; // Slightly faster on mobile
                div.textContent = line;
                if (index === 0) div.style.fontWeight = 'bold';
                letterContainer.appendChild(div);
            });
        }

        // Lock Screen Interaction
        const openBtn = document.getElementById('openBtn');
        const waxSeal = document.getElementById('waxSeal');
        const envelope = document.getElementById('envelope');
        const lockScreen = document.getElementById('lock-screen');
        const mainContent = document.getElementById('main-content');
        const musicPlayer = document.getElementById('music-player');

        function openLetter() {
            waxSeal.classList.add('broken');
            envelope.classList.add('open');
            
            setTimeout(() => {
                lockScreen.style.opacity = '0';
                setTimeout(() => {
                    lockScreen.style.display = 'none';
                    mainContent.style.display = 'block';
                    renderLetter();
                    initObserver();
                    
                    // Auto-expand music player briefly to hint at it
                    setTimeout(() => {
                        musicPlayer.classList.add('expanded');
                        setTimeout(() => {
                            musicPlayer.classList.remove('expanded');
                        }, 2500);
                    }, 1500);
                }, 800);
            }, 500);
        }

        openBtn.addEventListener('click', openLetter);
        waxSeal.addEventListener('click', openLetter);
        
        // Touch events for better mobile response
        openBtn.addEventListener('touchstart', function(e) {
            e.preventDefault();
            openLetter();
        });
        
        waxSeal.addEventListener('touchstart', function(e) {
            e.preventDefault();
            openLetter();
        });

        // Vinyl Music Player
        const vinyl = document.getElementById('vinyl');
        const bgMusic = document.getElementById('bg-music');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');

        vinyl.addEventListener('click', (e) => {
            e.stopPropagation();
            musicPlayer.classList.toggle('expanded');
        });

        // Touch handler for vinyl
        vinyl.addEventListener('touchstart', (e) => {
            e.preventDefault();
            musicPlayer.classList.toggle('expanded');
        });

        function playMusic() {
            bgMusic.play().then(() => {
                vinyl.classList.add('playing');
            }).catch(err => {
                console.log("Audio error:", err);
                // Mobile browsers often block autoplay, user interaction required
                alert("Tap Play to start the music! üéµ");
            });
        }

        function pauseMusic() {
            bgMusic.pause();
            vinyl.classList.remove('playing');
        }

        playBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            playMusic();
        });
        
        playBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            e.stopPropagation();
            playMusic();
        });

        pauseBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            pauseMusic();
        });
        
        pauseBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            e.stopPropagation();
            pauseMusic();
        });

        // Close music player when clicking outside
        document.addEventListener('click', (e) => {
            if (!musicPlayer.contains(e.target) && musicPlayer.classList.contains('expanded')) {
                musicPlayer.classList.remove('expanded');
            }
        });

        // Intersection Observer for Scroll Animations - optimized for mobile
        function initObserver() {
            const observerOptions = {
                threshold: 0.15,
                rootMargin: "0px 0px -30px 0px"
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const delay = entry.target.dataset.delay || 0;
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, delay);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.memory-card').forEach(card => {
                observer.observe(card);
            });
        }

        // Simplified parallax for mobile performance
        let ticking = false;
        window.addEventListener('scroll', () => {
            if (!ticking) {
                window.requestAnimationFrame(() => {
                    const scrolled = window.pageYOffset;
                    const parallax = document.querySelector('.timeline-thread');
                    if (parallax && window.innerWidth > 600) {
                        parallax.style.transform = `translateX(-50%) translateY(${scrolled * 0.3}px)`;
                    }
                    ticking = false;
                });
                ticking = true;
            }
        });

        // Success Modal with Confetti - mobile optimized
        const yesBtn = document.getElementById('yesBtn');
        const modal = document.getElementById('confetti-modal');

        yesBtn.addEventListener('click', showModal);
        yesBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            showModal();
        });

        function showModal() {
            modal.style.display = 'flex';
            setTimeout(() => modal.classList.add('show'), 10);
            createConfetti();
            createHeartBurst();
            
            // Auto-close modal on backdrop click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    modal.classList.remove('show');
                }
            });
        }

        function createConfetti() {
            // Fewer particles on mobile for performance
            const isMobile = window.innerWidth < 600;
            const count = isMobile ? 25 : 40;
            const colors = ['#c75b39', '#5a7c7c', '#d4c5b5', '#8b3a1f'];
            
            for (let i = 0; i < count; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'fixed';
                confetti.style.width = isMobile ? '8px' : '10px';
                confetti.style.height = isMobile ? '8px' : '10px';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-10px';
                confetti.style.zIndex = '3000';
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.animation = `fall ${Math.random() * 2 + 2}s linear forwards`;
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 4000);
            }
        }

        function createHeartBurst() {
            const isMobile = window.innerWidth < 600;
            const count = isMobile ? 12 : 20;
            
            for (let i = 0; i < count; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.position = 'fixed';
                heart.style.left = '50%';
                heart.style.top = '50%';
                heart.style.fontSize = isMobile ? '1.5rem' : '2rem';
                heart.style.zIndex = '3001';
                heart.style.pointerEvents = 'none';
                
                const angle = (Math.PI * 2 * i) / count;
                const velocity = isMobile ? 150 : 200;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;
                
                heart.style.transition = 'all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                document.body.appendChild(heart);
                
                requestAnimationFrame(() => {
                    heart.style.transform = `translate(${tx}px, ${ty}px) scale(0)`;
                    heart.style.opacity = '0';
                });
                
                setTimeout(() => heart.remove(), 1200);
            }
        }

        // Add falling animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                to {
                    transform: translateY(100vh) rotate(720deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // Handle visibilitychange to pause music when app is backgrounded (mobile)
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && !bgMusic.paused) {
                bgMusic.pause();
                vinyl.classList.remove('playing');
            }
        });
        
        // Prevent double-tap zoom on buttons
        let lastTouchEnd = 0;
        document.addEventListener('touchend', (e) => {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>
